# javascript

## 模块的引用

这个规则在Node和webpack里都是一样的，估计其他模块系统也是一样。

模块A，如果几个模块(B、C、D)同时引用模块A，它们所用的其实是同一个模块A。模块A里的局部变量(var 声明的)，B、C、D里访问的A的局部变量，是指向相同的变量，而不是复制。所以在不同模块里操作A，对A的影响是跨模块的。这个规则在nodejs里也是一样的。如果删除了require.cache，则会是新的模块。**所以在模块里的用局部变量时要小心。**